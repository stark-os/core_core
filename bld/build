#!/bin/bash




# -------- DEFINITIONS --------

#exit on err
set -e

#current executable directory
CXD=$(dirname $(readlink -f $0))
pCXD=$(dirname $CXD)

#compilers (if not accessible everywhere as command, set absolute path)
Z_TO_N='/a/zinc-lite/app/zinc'

#dirs
SRC=$pCXD/src
OUT=$pCXD/out
TMP=$OUT/tmp






# -------- PREPARATIONS --------

#clean
$CXD/clean

#remove previous blds
rm --force $OUT/core.n $OUT/core.cfg.TMP_FOR_Z_CPL $OUT/core.cfg.TMP_FOR_LLI_CPL

#tmp dir
[[ ! -d $TMP ]] && mkdir --parents $TMP






# -------- EXECUTION --------

#build
$Z_TO_N $SRC/all.z
